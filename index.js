import{defineInterface as t}from"@directus/extensions-sdk";import{defineComponent as e,openBlock as i,createElementBlock as a,Fragment as r,createElementVNode as o,normalizeClass as l,renderSlot as d,createCommentVNode as n,computed as s,resolveComponent as p,createVNode as u,withCtx as h}from"vue";const y={key:0,class:"group-layout-aside"},c={key:1,class:"group-layout-main"},f={class:"center"},v={class:"group-layout-top"},g={key:2,class:"group-layout-main"},m={class:"center"},b={key:0,class:"group-layout-before"},x={key:1,class:"group-layout-content"},w={key:2,class:"group-layout-after"};var k=e({__name:"group-layout",props:{sections:{default:["top","content","aside","before","after"]},layout:{default:"layout"}},setup(t){const e=t,s=t=>e.sections.includes(t);return(t,e)=>{return i(),a(r,null,[o("div",{class:l({"group-layout":!0,"group-layout-centered":"layout-center"===t.layout})},[s("aside")?(i(),a("div",y,[d(t.$slots,"group-layout-aside",{},void 0,!0)])):n("v-if",!0),s("top")?(i(),a("div",c,[o("div",f,[o("div",v,[d(t.$slots,"group-layout-top",{},void 0,!0)])])])):n("v-if",!0),(p=["before","content","after"],p.some((t=>s(t)))?(i(),a("div",g,[o("div",m,[s("before")?(i(),a("div",b,[d(t.$slots,"group-layout-before-content",{},void 0,!0)])):n("v-if",!0),s("content")?(i(),a("div",x,[d(t.$slots,"group-layout-content",{},void 0,!0)])):n("v-if",!0),s("after")?(i(),a("div",w,[d(t.$slots,"group-layout-after-content",{},void 0,!0)])):n("v-if",!0)])])):n("v-if",!0))],2),d(t.$slots,"default",{},void 0,!0)],64);var p}}}),F=[],_=[];!function(t,e){if(t&&"undefined"!=typeof document){var i,a=!0===e.prepend?"prepend":"append",r=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(r){var l=F.indexOf(o);-1===l&&(l=F.push(o)-1,_[l]={}),i=_[l]&&_[l][a]?_[l][a]:_[l][a]=d()}else i=d();65279===t.charCodeAt(0)&&(t=t.substring(1)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(document.createTextNode(t))}function d(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var i=Object.keys(e.attributes),r=0;r<i.length;r++)t.setAttribute(i[r],e.attributes[i[r]]);var l="prepend"===a?"afterbegin":"beforeend";return o.insertAdjacentElement(l,t),t}}("\n.group-layout[data-v-8a0b5bbe] {\n\twidth: 100%;\n\tposition: relative;\n\tpadding: 0;\n\tgap: 35px;\n\tmax-width: 1127px;\n&.group-layout-centered[data-v-8a0b5bbe] {\n\t\tmargin: 0 auto;\n}\n> div[data-v-8a0b5bbe] {\n\t\tmin-height: 50px;\n}\n.group-layout-main[data-v-8a0b5bbe] {\n\t\tpadding: 0;\n\t\twidth: calc(100% - 335px);\n.center[data-v-8a0b5bbe] {\n\t\t\twidth: calc(var(--theme--form--column-gap) + (var(--form-column-max-width) * 2));\n\t\t\tmax-width: 100%;\n\t\t\tmargin: 0 auto;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 50px;\n> div[data-v-8a0b5bbe]:empty {\n\t\t\t\tdisplay: none;\n}\n}\n}\n.group-layout-main + .group-layout-main[data-v-8a0b5bbe] {\n\t\tpadding-top: 50px;\n}\n.group-layout-aside[data-v-8a0b5bbe] {\n\t\twidth: 300px;\n\t\tfloat: right;\n\t\tposition: sticky;\n\t\ttop: 80px;\n\t\tborder: 1px solid var(--theme--navigation--background);\n\t\tpadding: 16px;\n\t\tborder-radius: var(--theme--border-radius);\n}\n}\n\n/** In dialog box, don't show layout */\n#dialog-outlet .group-layout[data-v-8a0b5bbe] {\n\tdisplay: flex;\n\tflex-direction: column;\n> div[data-v-8a0b5bbe] {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tfloat: none;\n\t\ttop: 0;\n\t\torder: 3;\n&.group-layout-main[data-v-8a0b5bbe] {\n\t\t\tpadding: 0;\n}\n&[data-v-8a0b5bbe]:first-child {\n\t\t\torder: 2;\n}\n&[data-v-8a0b5bbe]:nth-child(2) {\n\t\t\torder: 1;\n}\n}\n}\n/** In small screen case, don't show it too */\n@media screen and (max-width: 1279px) {\n.group-layout[data-v-8a0b5bbe] {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n> div[data-v-8a0b5bbe] {\n\t\t\tposition: relative !important;\n\t\t\twidth: 100% !important;\n\t\t\tfloat: none !important;\n\t\t\ttop: 0 !important;\n\t\t\torder: 3 !important;\n&.group-layout-main[data-v-8a0b5bbe] {\n\t\t\t\tpadding: 0 !important;\n}\n.center[data-v-8a0b5bbe] {\n\t\t\t\tmargin: 0 !important;\n}\n&[data-v-8a0b5bbe]:first-child {\n\t\t\t\torder: 2 !important;\n}\n&[data-v-8a0b5bbe]:nth-child(2) {\n\t\t\t\torder: 1 !important;\n}\n}\n}\n}\n",{});var E=(t,e)=>{const i=t.__vccOpts||t;for(const[t,a]of e)i[t]=a;return i},T=E(k,[["__scopeId","data-v-8a0b5bbe"],["__file","group-layout.vue"]]);const V={class:"fill"};var $=t({id:"ptkio-group-layout",name:"Group layout sidebar",icon:"web",hideLabel:!0,description:"Group layout with sidebar",component:E(e({__name:"interface",props:{field:{},fields:{},primaryKey:{},values:{},initialValues:{},disabled:{type:Boolean},batchMode:{type:Boolean},batchActiveFields:{default:()=>[]},loading:{type:Boolean},validationErrors:{default:()=>[]},badge:{},layout_part:{default:"layout"},direction:{}},emits:["apply"],setup(t){const e=t,r=s((()=>e.fields.filter((t=>{var e,i,a;return"alias"===t.type&&"ptkio-group-layout"===(null==(e=t.meta)?void 0:e.interface)&&(null==(a=null==(i=t.meta)?void 0:i.options)?void 0:a.layout_part)})))),o=s((()=>r.value.reduce(((t,e)=>(t[e.meta.options.layout_part]=e.field,t)),{}))),l=s((()=>[...new Set(r.value.map((t=>t.meta.options.layout_part)))]));return(t,e)=>{const r=p("v-form");return i(),a("div",V,[u(T,{sections:l.value,layout:t.layout_part},{"group-layout-top":h((()=>[u(r,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.top,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[0]||(e[0]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),"group-layout-content":h((()=>[u(r,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.content,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[1]||(e[1]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),"group-layout-aside":h((()=>[u(r,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.aside,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[2]||(e[2]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),"group-layout-before-content":h((()=>[u(r,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.before,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[3]||(e[3]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),"group-layout-after-content":h((()=>[u(r,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.after,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[4]||(e[4]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),_:1},8,["sections","layout"])])}}}),[["__file","interface.vue"]]),types:["alias"],localTypes:["group"],group:"group",preview:'<svg width="156" height="87" fill="none" xmlns="http://www.w3.org/2000/svg">    <rect x="14" y="10" width="85" height="67" rx="4" fill="var(--theme--background)"/> <rect x="14" y="10" width="85" height="67" rx="4" stroke="var(--theme--primary)" stroke-width="1.45" stroke-linecap="round" stroke-dasharray="2.9 4.35"/> <rect opacity=".25" x="21" y="17" width="71" height="14" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="27" y="22" width="36" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect x="67" y="22" width="14" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect opacity=".25" x="21" y="37" width="71" height="14" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="27" y="43" width="14" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect x="45" y="43" width="29" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect opacity=".25" x="21" y="58" width="71" height="14" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="27" y="63" width="22" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect x="52" y="63" width="22" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect x="107" y="10" width="43" height="37" rx="4" fill="var(--theme--background)"/> <rect x="107" y="10" width="43" height="37" rx="4" stroke="var(--theme--primary)" stroke-width="1.45" stroke-linecap="round" stroke-dasharray="2.9 4.35"/> <rect opacity=".25" x="110" y="17" width="36" height="11" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="114" y="20" width="18" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect opacity=".25" x="110" y="33" width="36" height="11" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="114" y="36" width="7" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> </svg>',options:[{field:"layout_part",name:"Layout",type:"string",schema:{default_value:"layout"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"Layout wrapper (centered)",value:"layout-center"},{text:"Layout wrapper",value:"layout"},{text:"Top",value:"top"},{text:"Sidebar",value:"aside"},{text:"Before content",value:"before"},{text:"Content",value:"content"},{text:"After content",value:"after"}]}}},{field:"guide",name:"Information",type:"alias",meta:{interface:"presentation-notice",width:"full",options:{text:'<div style="display: flex; gap: 20px;"><div><strong style="text-transform: uppercase">How to use this group field:</strong><p>- Start by creating a "Layout Wrapper" group.</p><p>- Create subgroups with layouts for the top, sidebar, content, etc., and place them inside the Layout Wrapper.</p><p>- Place your fields inside the subgroups.</p><br><strong  style="text-transform: uppercase">Tips:</strong><p>Use the key field of each group to identify them in the editor. Example : grp_sidebar</p></div><div style="width: 300px;flex: 1"><svg width="300" height="230" fill="#fff" xmlns="http://www.w3.org/2000/svg" style="font-family: sans-serif;">    <rect x="5" y="5" width="290" height="200" rx="4" stroke="#3399FF" stroke-width="1.45" stroke-linecap="round" stroke-dasharray="3 4.5"/> <rect x="95" y="194" width="120" height="20" rx="4" stroke="#3399FF" stroke-width="1.45" stroke-linecap="round" stroke-dasharray="3 4.5"/> <text x="100" y="209" fill="#3399FF" font-size="12">LAYOUT WRAPPER</text> \x3c!-- Groupe de gauche, plus large --\x3e\x3c!-- Groupe top --\x3e<rect x="10" y="10" width="180" height="30" rx="4" fill="#3399FF"/> <rect opacity=".25" x="15" y="15" width="170" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="20" y="29" fill="#fff" font-size="12">TOP</text> <rect x="10" y="50" width="180" height="30" rx="4" fill="#3399FF"/> <rect opacity=".25" x="15" y="55" width="170" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="20" y="69" fill="#fff" font-size="12">BEFORE CONTENT</text> <rect x="10" y="90" width="180" height="55" rx="4" fill="#3399FF"/> <rect opacity=".25" x="15" y="95" width="170" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="20" y="109" fill="#fff" font-size="12">CONTENT</text> <rect opacity=".25" x="15" y="120" width="150" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <rect x="10" y="155" width="180" height="30" rx="4" fill="#3399FF"/> <rect opacity=".25" x="15" y="160" width="170" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="20" y="174" fill="#fff" font-size="12">AFTER CONTENT</text> <rect x="200" y="10" width="90" height="55" rx="4" fill="#3399FF"/> <rect opacity=".25" x="205" y="15" width="80" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="210" y="29" fill="#fff" font-size="12">SIDEBAR</text> <rect opacity=".25" x="205" y="40" width="60" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> </svg></div></div>'}}}]});export{$ as default};
