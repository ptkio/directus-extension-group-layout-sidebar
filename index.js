import{defineInterface as t}from"@directus/extensions-sdk";import{defineComponent as e,openBlock as a,createElementBlock as r,Fragment as i,createElementVNode as o,normalizeClass as d,renderSlot as l,createCommentVNode as n,computed as s,resolveComponent as u,createVNode as c,withCtx as p}from"vue";const h={key:1,class:"group-layout-main"},f={class:"center"},y={key:2,class:"group-layout-main"},v={class:"center"};var g=e({__name:"group-layout",props:{sections:{default:["top","content","aside","before","after"]},layout:{default:"layout"},layoutFields:{default:[]}},setup(t){const e=t,s=t=>{var a,r,i,o;const d=`group-layout-${t}`,l=e.layoutFields.find((e=>{var a,r;return(null==(r=null==(a=e.meta)?void 0:a.options)?void 0:r.layout_part)===t})),n=[];return(null==(r=null==(a=null==l?void 0:l.meta)?void 0:a.options)?void 0:r.background)&&n.push("group-layout-with-"+l.meta.options.background),(null==(o=null==(i=null==l?void 0:l.meta)?void 0:i.options)?void 0:o.border)&&n.push("group-layout-with-"+l.meta.options.border),[d,...n]},u=t=>e.sections.includes(t);return(t,e)=>{return a(),r(i,null,[o("div",{class:d({"group-layout":!0,"group-layout-centered":"layout-center"===t.layout})},[u("aside")?(a(),r("div",{key:0,class:d(s("aside"))},[l(t.$slots,"group-layout-aside",{},void 0,!0)],2)):n("v-if",!0),u("top")?(a(),r("div",h,[o("div",f,[o("div",{class:d(s("top"))},[l(t.$slots,"group-layout-top",{},void 0,!0)],2)])])):n("v-if",!0),(c=["before","content","after"],c.some((t=>u(t)))?(a(),r("div",y,[o("div",v,[u("before")?(a(),r("div",{key:0,class:d(s("before"))},[l(t.$slots,"group-layout-before",{},void 0,!0)],2)):n("v-if",!0),u("content")?(a(),r("div",{key:1,class:d(s("content"))},[l(t.$slots,"group-layout-content",{},void 0,!0)],2)):n("v-if",!0),u("after")?(a(),r("div",{key:2,class:d(s("after"))},[l(t.$slots,"group-layout-after",{},void 0,!0)],2)):n("v-if",!0)])])):n("v-if",!0))],2),l(t.$slots,"default",{},void 0,!0)],64);var c}}}),m=[],b=[];!function(t,e){if(t&&"undefined"!=typeof document){var a,r=!0===e.prepend?"prepend":"append",i=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var d=m.indexOf(o);-1===d&&(d=m.push(o)-1,b[d]={}),a=b[d]&&b[d][r]?b[d][r]:b[d][r]=l()}else a=l();65279===t.charCodeAt(0)&&(t=t.substring(1)),a.styleSheet?a.styleSheet.cssText+=t:a.appendChild(document.createTextNode(t))}function l(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var a=Object.keys(e.attributes),i=0;i<a.length;i++)t.setAttribute(a[i],e.attributes[a[i]]);var d="prepend"===r?"afterbegin":"beforeend";return o.insertAdjacentElement(d,t),t}}("\n.group-layout-with-border[data-v-029c9f55] {\n\tborder-radius: var(--theme--border-radius);\n\tborder: var(--theme--border-width) solid var(--theme--border-color);\n\tpadding: calc(var(--content-padding) / 2);\n}\n.group-layout-with-border-accent[data-v-029c9f55] {\n\tborder-radius: var(--theme--border-radius);\n\tborder: var(--theme--border-width) solid var(--theme--border-color-accent);\n\tpadding: calc(var(--content-padding) / 2);\n}\n.group-layout-with-border-subdued[data-v-029c9f55] {\n\tborder-radius: var(--theme--border-radius);\n\tborder: var(--theme--border-width) solid var(--theme--border-color-subdued);\n\tpadding: calc(var(--content-padding) / 2);\n}\n.group-layout-with-background[data-v-029c9f55] {\n\tborder-radius: var(--theme--border-radius);\n\tbackground: var(--theme--background-normal);\n\tpadding: calc(var(--content-padding) / 2);\n}\n.group-layout-with-background-subdued[data-v-029c9f55] {\n\tborder-radius: var(--theme--border-radius);\n\tbackground: var(--theme--background-subdued);\n\tpadding: calc(var(--content-padding) / 2);\n}\n.group-layout-with-background-accent[data-v-029c9f55] {\n\tborder-radius: var(--theme--border-radius);\n\tbackground: var(--theme--background-accent);\n\tpadding: calc(var(--content-padding) / 2);\n}\n.group-layout[data-v-029c9f55] {\n\twidth: 100%;\n\tposition: relative;\n\tpadding: 0;\n\tgap: 35px;\n\tmax-width: 1127px;\n&.group-layout-centered[data-v-029c9f55] {\n\t\tmargin: 0 auto;\n}\n> div[data-v-029c9f55] {\n\t\tmin-height: 50px;\n}\n.group-layout-main[data-v-029c9f55] {\n\t\tpadding: 0;\n\t\twidth: calc(100% - 335px);\n.center[data-v-029c9f55] {\n\t\t\twidth: calc(var(--theme--form--column-gap) + (var(--form-column-max-width) * 2));\n\t\t\tmax-width: 100%;\n\t\t\tmargin: 0 auto;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 50px;\n> div[data-v-029c9f55]:empty {\n\t\t\t\tdisplay: none;\n}\n}\n}\n.group-layout-main + .group-layout-main[data-v-029c9f55] {\n\t\tpadding-top: 50px;\n}\n.group-layout-aside[data-v-029c9f55] {\n\t\twidth: 300px;\n\t\tfloat: right;\n\t\tposition: sticky;\n\t\ttop: 80px;\n}\n}\n\n/** In dialog box, don't show layout */\n#dialog-outlet .group-layout[data-v-029c9f55] {\n\tdisplay: flex;\n\tflex-direction: column;\n> div[data-v-029c9f55] {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tfloat: none;\n\t\ttop: 0;\n\t\torder: 3;\n&.group-layout-main[data-v-029c9f55] {\n\t\t\tpadding: 0;\n}\n&[data-v-029c9f55]:first-child {\n\t\t\torder: 2;\n}\n&[data-v-029c9f55]:nth-child(2) {\n\t\t\torder: 1;\n}\n}\n}\n/** In small screen case, don't show it too */\n@media screen and (max-width: 1279px) {\n.group-layout[data-v-029c9f55] {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n> div[data-v-029c9f55] {\n\t\t\tposition: relative !important;\n\t\t\twidth: 100% !important;\n\t\t\tfloat: none !important;\n\t\t\ttop: 0 !important;\n\t\t\torder: 3 !important;\n&.group-layout-main[data-v-029c9f55] {\n\t\t\t\tpadding: 0 !important;\n}\n.center[data-v-029c9f55] {\n\t\t\t\tmargin: 0 !important;\n}\n&[data-v-029c9f55]:first-child {\n\t\t\t\torder: 2 !important;\n}\n&[data-v-029c9f55]:nth-child(2) {\n\t\t\t\torder: 1 !important;\n}\n}\n}\n}\n",{});var x=(t,e)=>{const a=t.__vccOpts||t;for(const[t,r]of e)a[t]=r;return a},w=x(g,[["__scopeId","data-v-029c9f55"],["__file","group-layout.vue"]]);const k={class:"fill"};var F=t({id:"ptkio-group-layout",name:"Group layout sidebar",icon:"web",hideLabel:!0,description:"Group layout with sidebar",component:x(e({__name:"interface",props:{field:{},fields:{},primaryKey:{},values:{},initialValues:{},disabled:{type:Boolean},batchMode:{type:Boolean},batchActiveFields:{default:()=>[]},loading:{type:Boolean},validationErrors:{default:()=>[]},badge:{},layout_part:{default:"layout"},direction:{}},emits:["apply"],setup(t){const e=t,i=s((()=>e.fields.filter((t=>{var e,a,r;return"alias"===t.type&&"ptkio-group-layout"===(null==(e=t.meta)?void 0:e.interface)&&(null==(r=null==(a=t.meta)?void 0:a.options)?void 0:r.layout_part)})))),o=s((()=>i.value.reduce(((t,e)=>(t[e.meta.options.layout_part]=e.field,t)),{}))),d=s((()=>[...new Set(i.value.map((t=>t.meta.options.layout_part)))]));return(t,e)=>{const l=u("v-form");return a(),r("div",k,[c(w,{sections:d.value,"layout-fields":i.value,layout:t.layout_part},{"group-layout-top":p((()=>[c(l,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.top,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[0]||(e[0]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),"group-layout-content":p((()=>[c(l,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.content,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[1]||(e[1]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),"group-layout-aside":p((()=>[c(l,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.aside,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[2]||(e[2]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),"group-layout-before":p((()=>[c(l,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.before,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[3]||(e[3]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),"group-layout-after":p((()=>[c(l,{"initial-values":t.initialValues,fields:t.fields,"model-value":t.values,"primary-key":t.primaryKey,group:o.value.after,"validation-errors":t.validationErrors,loading:t.loading,"batch-mode":t.batchMode,disabled:t.disabled,badge:t.badge,direction:t.direction,"show-no-visible-fields":!1,"show-validation-errors":!1,"onUpdate:modelValue":e[4]||(e[4]=e=>t.$emit("apply",e))},null,8,["initial-values","fields","model-value","primary-key","group","validation-errors","loading","batch-mode","disabled","badge","direction"])])),_:1},8,["sections","layout-fields","layout"])])}}}),[["__file","interface.vue"]]),types:["alias"],localTypes:["group"],group:"group",preview:'<svg width="156" height="87" fill="none" xmlns="http://www.w3.org/2000/svg">    <rect x="14" y="10" width="85" height="67" rx="4" fill="var(--theme--background)"/> <rect x="14" y="10" width="85" height="67" rx="4" stroke="var(--theme--primary)" stroke-width="1.45" stroke-linecap="round" stroke-dasharray="2.9 4.35"/> <rect opacity=".25" x="21" y="17" width="71" height="14" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="27" y="22" width="36" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect x="67" y="22" width="14" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect opacity=".25" x="21" y="37" width="71" height="14" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="27" y="43" width="14" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect x="45" y="43" width="29" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect opacity=".25" x="21" y="58" width="71" height="14" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="27" y="63" width="22" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect x="52" y="63" width="22" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect x="107" y="10" width="43" height="37" rx="4" fill="var(--theme--background)"/> <rect x="107" y="10" width="43" height="37" rx="4" stroke="var(--theme--primary)" stroke-width="1.45" stroke-linecap="round" stroke-dasharray="2.9 4.35"/> <rect opacity=".25" x="110" y="17" width="36" height="11" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="114" y="20" width="18" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> <rect opacity=".25" x="110" y="33" width="36" height="11" rx="3.6" fill="var(--theme--background)" stroke="var(--theme--primary)" stroke-width="1.45"/> <rect x="114" y="36" width="7" height="4" rx="1.45" fill="var(--theme--primary)" fill-opacity=".25"/> </svg>',options:[{field:"layout_part",name:"Layout",type:"string",schema:{default_value:"layout"},meta:{interface:"select-dropdown",width:"full",options:{choices:[{text:"Layout wrapper (centered)",value:"layout-center"},{text:"Layout wrapper",value:"layout"},{text:"Top",value:"top"},{text:"Sidebar",value:"aside"},{text:"Before content",value:"before"},{text:"Content",value:"content"},{text:"After content",value:"after"}]}}},{field:"background",name:"Background color",schema:{default_value:""},meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{value:"background",text:"Background"},{value:"background-accent",text:"Background (Accent)"},{value:"background-subdued",text:"Background (Subdued)"}]}}},{field:"border",name:"Border color",schema:{default_value:""},meta:{width:"half",interface:"select-dropdown",options:{allowNone:!0,choices:[{value:"border",text:"Border"},{value:"border-accent",text:"Border (Accent)"},{value:"border-subdued",text:"Border (Subdued)"}]}}},{field:"guide",name:"Information",type:"alias",meta:{interface:"presentation-notice",width:"full",options:{text:'<div style="display: flex; gap: 20px;"><div><strong style="text-transform: uppercase">How to use this group field:</strong><p>- Start by creating a "Layout Wrapper" group.</p><p>- Create subgroups with layouts for the top, sidebar, content, etc., and place them inside the Layout Wrapper.</p><p>- Place your fields inside the subgroups.</p><br><strong  style="text-transform: uppercase">Tips:</strong><p>Use the key field of each group to identify them in the editor. Example : grp_sidebar</p></div><div style="width: 300px;flex: 1"><svg width="300" height="230" fill="#fff" xmlns="http://www.w3.org/2000/svg" style="font-family: sans-serif;">    <rect x="5" y="5" width="290" height="200" rx="4" stroke="#3399FF" stroke-width="1.45" stroke-linecap="round" stroke-dasharray="3 4.5"/> <rect x="95" y="194" width="120" height="20" rx="4" stroke="#3399FF" stroke-width="1.45" stroke-linecap="round" stroke-dasharray="3 4.5"/> <text x="100" y="209" fill="#3399FF" font-size="12">LAYOUT WRAPPER</text> \x3c!-- Groupe de gauche, plus large --\x3e\x3c!-- Groupe top --\x3e<rect x="10" y="10" width="180" height="30" rx="4" fill="#3399FF"/> <rect opacity=".25" x="15" y="15" width="170" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="20" y="29" fill="#fff" font-size="12">TOP</text> <rect x="10" y="50" width="180" height="30" rx="4" fill="#3399FF"/> <rect opacity=".25" x="15" y="55" width="170" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="20" y="69" fill="#fff" font-size="12">BEFORE CONTENT</text> <rect x="10" y="90" width="180" height="55" rx="4" fill="#3399FF"/> <rect opacity=".25" x="15" y="95" width="170" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="20" y="109" fill="#fff" font-size="12">CONTENT</text> <rect opacity=".25" x="15" y="120" width="150" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <rect x="10" y="155" width="180" height="30" rx="4" fill="#3399FF"/> <rect opacity=".25" x="15" y="160" width="170" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="20" y="174" fill="#fff" font-size="12">AFTER CONTENT</text> <rect x="200" y="10" width="90" height="55" rx="4" fill="#3399FF"/> <rect opacity=".25" x="205" y="15" width="80" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> <text x="210" y="29" fill="#fff" font-size="12">SIDEBAR</text> <rect opacity=".25" x="205" y="40" width="60" height="20" rx="3.6" fill="#3399FF" stroke="#fff" stroke-width="1.45"/> </svg></div></div>'}}}]});export{F as default};
